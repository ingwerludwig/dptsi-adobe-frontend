<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Dashboard Admin</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/Kalmansk-Regular.css">
    <link rel="stylesheet" href="assets/css/Source%20Sans%20Pro.css">
    <link rel="stylesheet" href="assets/css/Ubuntu%20Mono.css">
    <link rel="stylesheet" href="assets/css/Bootstrap-DataTables.css">
    <link rel="stylesheet" href="assets/css/CoolFont---Text-Container.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/Juvi---Push-Empty-Space-20px.css">
    <link rel="stylesheet" href="assets/css/Pretty-Registration-Form-.css">
    <link rel="stylesheet" href="assets/css/untitled.css">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container py-5">
        <header class="text-center text-align: center text-black" style="margin : 0 auto;padding-bottom:60px">
            <h1 class="display-4">Dashboard Admin DPTSI Adobe License</h1>
          </header>
        <div class="row register-form ">
            <div class="col-md-12 col-lg-9 offset-md-2 card-flexibles">
              
              <a href="./Form Pengajuan Admin.html">
                <button class="btn btn-primary" style="border: none;width: fit-content;height: fit-content;margin-left: 50px;background-color: #013880;float: left;" type="button">
                  Book New License
                </button>
            </a>

                <a href="./Antrian Admin.html">
                    <button class="btn btn-primary" style="border: none;width: fit-content;height: fit-content;margin-left: 50px;background-color: #013880;float: left;" type="button">
                        List User Request
                    </button>
                </a>

                <!-- <a href="./Admin Edit License Form.html">
                     <button class="btn btn-primary" style="border: none;width: fit-content;height: fit-content;margin-left: 50px;background-color: #013880;float: left;" type="button">
                    Edit License 
                  </button>
              </a> -->
                <form class="custom-form rounded card-flexible main-card" style="margin-top:90px">
                  <div class="chartWrapper">
                     <div class="chartAreaWrapper">
                        <h1>Faculty Usage Per Month</h1>
                         <canvas id="myChart"></canvas>
                         <br><br><br>
                         
                     </div>
                     <canvas id="myChartAxis"></canvas>
                 </div>  
                </form>
                <form class="custom-form rounded card-flexible main-card" style="margin-top:90px">
                  <div class="chartWrapper">
                     <div class="chartAreaWrapper">
                      <h1>Department Usage Per Month</h1>
                      <canvas id="myChart2"></canvas>
                     </div>
                     <canvas id="myChartAxis2"></canvas>
                 </div>  
                </form>
            </div>
            <div class="d-flex align-items-center row row-xs">
                <div class="col-lg-10">
                <span class="tx-medium tx-color-03 tx-13">Copyright Â© 2022 Institut Teknologi Sepuluh Nopember</span>
              </div>
              
                <div class="col-lg-2 mg-lg-t-0 d-flex justify-content-end">
                <img src="assets/img/logo-its-biru.png"  height="40" class="mg-r-10">
                <img src="assets/img/logo-its-semangat-baru.png "  height="40" class="mg-r-10">
              </div>
              </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <!-- <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script> -->
    <!-- <script src="assets/js/Bootstrap-DataTables.js"></script> -->
    <script src="assets/js/stylish-portfolio.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
    

    <script>
        const ctx = document.getElementById('myChart');
      
        var chartFakultas = new Chart(ctx, {
          type: 'bar',
          data: {
             labels: ['FTEIC', 'FTK','FTIRS','FSAD','FTSPK','FDKBD','VOCATION','SIMT'], // responsible for how many bars are gonna show on the chart
             datasets: [{
                barPercentage: 0.9,
                categoryPercentage: 1,
                label: 'Mahasiswa',
                data: [3, 8, 10, 2, 3, 2, 9,9],
                backgroundColor: '#22aa99'
             }, {
                label: 'Dosen',
                data: [2, 1, 2, 3, 2, 1, 4,9],
                backgroundColor: '#994499'
             }, {
                label: 'Tendik',
                data: [4, 5, 6, 7, 2, 1, 4,9],
                backgroundColor: '#316395'
             }]
          },
          onAnimationComplete: function () {
            var sourceCanvas = this.chart.ctx.canvas;
            // the -5 is so that we don't copy the edges of the line
            var copyWidth = this.scale.xScalePaddingLeft - 5;
            // the +5 is so that the bottommost y axis label is not clipped off
            // we could factor this in using measureText if we wanted to be generic
            var copyHeight = this.scale.endPoint + 5;
            var targetCtx = document.getElementById("myChartAxis").getContext("2d");
            targetCtx.canvas.width = copyWidth;
            targetCtx.drawImage(sourceCanvas, 0, 0, copyWidth, copyHeight, 0, 0, copyWidth, copyHeight);
        },
          options: {
             responsive: false,
             legend: {
                position: 'right' // place legend on the right side of chart
             },
             scales: {
                xAxes: [{
                   stacked: true, // this should be set to make the bars stacked
                }],
                yAxes: [{
                   stacked: true // this also..
                }]
             },
             onClick: function(c,i) {
                e = i[0];
                var lable_name = this.data.labels[e._index];
                getDataDepartemen(lable_name);
             }
          }
       },);
    </script>

    <script>
      const ctx2 = document.getElementById('myChart2');
      var chartDepartemen = new Chart(ctx2, {
        type: 'bar',
        data: {
           labels: [''],
           datasets: [{
            barPercentage: 0.9,
                categoryPercentage: 1,
              label: 'Mahasiswa',
              data: [],
              backgroundColor: '#22aa99'
           }, {
              label: 'Dosen',
              data: [],
              backgroundColor: '#994499'
           }, {
              label: 'Tendik',
              data: [],
              backgroundColor: '#316395'
           }]
        },
        onAnimationComplete: function () {
          var sourceCanvas = this.chart.ctx.canvas;
          var copyWidth = this.scale.xScalePaddingLeft - 5;
          var copyHeight = this.scale.endPoint + 5;
          var targetCtx = document.getElementById("myChartAxis2").getContext("2d");
          targetCtx.canvas.width = copyWidth;
          targetCtx.drawImage(sourceCanvas, 0, 0, copyWidth, copyHeight, 0, 0, copyWidth, copyHeight);
      },
        options: {
           responsive: false,
           legend: {
              position: 'right' // place legend on the right side of chart
           },
           scales: {
              xAxes: [{
                 stacked: true // this should be set to make the bars stacked
              }],
              yAxes: [{
                 stacked: true // this also..
              }]
           },
        }
     },
     );
  </script>
    
    <script>
         function resize(){    
           $("#myChart").outerHeight($(window).height()-$("#myChart").offset().top- Math.abs($("#myChart").outerHeight(true) - $("#myChart").outerHeight()));
         }
         $(document).ready(function(){
           resize();
           $(window).on("resize", function(){                      
               resize();
           });
         });
    </script>

    <script type="text/javascript">
        function getDataDepartemen(lable_name){

         const FTEIC = ['T. INFORMATIKA','SISTEM INFORMASI','T. KOMPUTER','T. BIOMEDIK','T. ELEKTRO','TEKNOLOGI INFORMASI']
         const FTK = ['T. PERKAPALAN','T. KELAUTAN','T. SISTEM PERKAPALAN','T. TRANSPORTASI LAUT']
         const FSAD = ['FISIKA','MATEMATIKA','STATISTIKA','KIMIA','BIOLOGI','AKTUARIA']
         const FTIRS = ['T. MESIN','T. KIMIA','T. FISIKA','T. SISTEM INSDUSTRI','T. MATERIAL']
         const FTSPK = ['T. SIPIL','ARSITEKTUR','T. LINGKUNGAN','PWK','T. GEOMATIKA','T. GEOFISIKA']
         const FDKBD = ['DESAIN PRODUK','DESAIN INTERIOR','DESAIN KOMUNIKASI VISUAL','MANAJEMEN BISNIS','STUDI PEMBANGUNAN','MANAJEMEN TEKNOLOGI']
         const VOCATION = ['STATISTIKA BISNIS','T. INSTRUMENTASI','T. KIMIA INDUSTRI','T. ELEKTRO OTOMASI','T. MESIN INDUSTRI','T. INFRASTRUKTUR SIPIL']
          
          for(var i=0 ; i<this.chartDepartemen.data.datasets[0].data.length ; i++){
            this.chartDepartemen.data.labels[i] = ''
            this.chartDepartemen.data.datasets[0].data[i] =0
            this.chartDepartemen.data.datasets[1].data[i] =0
            this.chartDepartemen.data.datasets[2].data[i] =0
         }

         if(lable_name == "FTEIC"){
            for(var i=0 ; i<FTEIC.length ; i++){
               this.chartDepartemen.data.labels[i] = FTEIC[i];
               this.chartDepartemen.data.datasets[0].data[i] = 100; //Mahasiswa
               this.chartDepartemen.data.datasets[1].data[i] = 100; //Dosen
               this.chartDepartemen.data.datasets[2].data[i] = 100; //Tendik
               this.chartDepartemen.update();
            }
         }else if(lable_name == "FTK"){
            for(var i=0 ; i<FTK.length ; i++){
               this.chartDepartemen.data.labels[i] = FTK[i];
               this.chartDepartemen.data.datasets[0].data[i] = 200; //Mahasiswa
               this.chartDepartemen.data.datasets[1].data[i] = 200; //Dosen
               this.chartDepartemen.data.datasets[2].data[i] = 200; //Tendik
               this.chartDepartemen.update();
            }
         }else if(lable_name == "FTIRS"){
            for(var i=0 ; i<FTIRS.length ; i++){
               this.chartDepartemen.data.labels[i] = FTIRS[i];
               this.chartDepartemen.data.datasets[0].data[i] = 300; //Mahasiswa
               this.chartDepartemen.data.datasets[1].data[i] = 300; //Dosen
               this.chartDepartemen.data.datasets[2].data[i] = 300; //Tendik
               this.chartDepartemen.update();
            }
         }else if(lable_name == "FSAD"){
            for(var i=0 ; i<FSAD.length ; i++){
               this.chartDepartemen.data.labels[i] = FSAD[i];
               this.chartDepartemen.data.datasets[0].data[i] = 400; //Mahasiswa
               this.chartDepartemen.data.datasets[1].data[i] = 400; //Dosen
               this.chartDepartemen.data.datasets[2].data[i] = 400; //Tendik
               this.chartDepartemen.update();
               
            }
         }else if(lable_name == "FTSPK"){
            for(var i=0 ; i<FTSPK.length ; i++){
               this.chartDepartemen.data.labels[i] = FTSPK[i];
               this.chartDepartemen.data.datasets[0].data[i] = 500; //Mahasiswa
               this.chartDepartemen.data.datasets[1].data[i] = 500; //Dosen
               this.chartDepartemen.data.datasets[2].data[i] = 500; //Tendik
               this.chartDepartemen.update();
            }
         }else if(lable_name == "FDKBD"){
            for(var i=0 ; i<FDKBD.length ; i++){
               this.chartDepartemen.data.labels[i] = FDKBD[i];
               this.chartDepartemen.data.datasets[0].data[i] = 600; //Mahasiswa
               this.chartDepartemen.data.datasets[1].data[i] = 600; //Dosen
               this.chartDepartemen.data.datasets[2].data[i] = 600; //Tendik
               this.chartDepartemen.update();
            }
         }else if(lable_name == "VOCATION"){
            for(var i=0 ; i<VOCATION.length ; i++){
               this.chartDepartemen.data.labels[i] = VOCATION[i];
               this.chartDepartemen.data.datasets[0].data[i] = 700; //Mahasiswa
               this.chartDepartemen.data.datasets[1].data[i] = 700; //Dosen
               this.chartDepartemen.data.datasets[2].data[i] = 700; //Tendik
               this.chartDepartemen.update();
            }
         }

          this.chartDepartemen.update();

        }
    </script>

    
</body>

</html>